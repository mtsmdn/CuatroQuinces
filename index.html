<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contador de Aniversario</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
            font-family: Arial, sans-serif;
            margin: 0;
            text-align: center;
            transition: background-color 0.5s ease;
        }
        h1 {
            font-size: 2rem;
            font-weight: bold;
            color: #333;
            margin: 0;
        }
        h2 {
            font-size: 1.5rem;
            color: #666;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1 id="main-title">GRACIAS POR PASAR CONMIGO...</h1>
    <h2 id="countdown"></h2>

    <script>
        // Tiempo inicial
        let years = 3;
        let months = 11;
        let days = 27;
        let hours = 2;
        let minutes = 42;
        let seconds = 0;

        // Cargar tiempo almacenado desde localStorage
        const storedTime = localStorage.getItem('timeElapsed');
        if (storedTime) {
            const [storedYears, storedMonths, storedDays, storedHours, storedMinutes, storedSeconds] = storedTime.split(',').map(Number);
            years += storedYears;
            months += storedMonths;
            days += storedDays;
            hours += storedHours;
            minutes += storedMinutes;
            seconds += storedSeconds;
        }

        // Función para actualizar el contador
        function updateCountdown() {
            // Mostrar el resultado
            document.getElementById('countdown').innerHTML =
                years + " años, " +
                months + " meses, " +
                days + " días, " +
                hours + " horas, " +
                minutes + " minutos, " +
                seconds + " segundos";

            // Verificar si se debe mostrar el mensaje especial
            if (years === 3 && months === 11 && days === 27 && hours === 23 && minutes === 59 && seconds === 59) {
                showCelebration();
            }
        }

        // Función para mostrar el mensaje de celebración
        function showCelebration() {
            document.body.style.backgroundColor = "#ffd700"; // Cambiar color de fondo
            document.getElementById('main-title').innerText = "FELICES 4 AÑOS, MUMI HERMOSA";
            document.getElementById('countdown').innerHTML = ""; // Limpiar el contador

            // Esperar 15 segundos y luego reiniciar el contador a 4 años
            setTimeout(() => {
                // Reiniciar a 4 años, 0 meses, 0 días, 0 horas, 0 minutos
                years = 4;
                months = 0;
                days = 0;
                hours = 0;
                minutes = 0;
                seconds = 15; // Comenzar desde 15 segundos
                document.body.style.backgroundColor = "#f0f0f0"; // Restaurar color de fondo
                document.getElementById('main-title').innerText = "GRACIAS POR PASAR CONMIGO...";
                updateCountdown(); // Actualizar el contador
            }, 15000);
        }

        // Aumentar el contador cada segundo
        setInterval(() => {
            seconds++; // Aumentar los segundos

            // Controlar el avance del tiempo
            if (seconds >= 60) {
                seconds = 0;
                minutes++; // Aumentar los minutos
            }
            if (minutes >= 60) {
                minutes = 0;
                hours++; // Aumentar las horas
            }
            if (hours >= 24) {
                hours = 0;
                days++; // Aumentar los días
            }
            if (days >= 30) { // Asumimos 30 días para el mes
                days = 0;
                months++; // Aumentar los meses
            }
            if (months >= 12) { // Asumimos 12 meses para el año
                months = 0;
                years++; // Aumentar los años
            }

            updateCountdown(); // Actualizar el contador

            // Almacenar tiempo acumulado en localStorage
            localStorage.setItem('timeElapsed', `${years},${months},${days},${hours},${minutes},${seconds}`);
        }, 1000);

        // Asegurar que el contador empiece inmediatamente al cargar la página
        updateCountdown();
    </script>
</body>
</html>
