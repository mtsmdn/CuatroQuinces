<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contador de Aniversario</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
            font-family: Arial, sans-serif;
            margin: 0;
            text-align: center;
            transition: background-color 0.5s ease;
        }
        h1 {
            font-size: 2rem;
            font-weight: bold;
            color: #333;
            margin: 0;
        }
        h2 {
            font-size: 1.5rem;
            color: #666;
            margin-top: 10px;
        }
        p {
            font-size: 1.2rem;
            color: #555;
            margin-top: 20px;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <h1 id="main-title">GRACIAS POR PASAR CONMIGO...</h1>
    <h2 id="countdown"></h2>
    <p>
        SI EN ALGUNO DE ESOS MOMENTOS NO ESTUVE RIENDO O ENAMORANDOME CADA VEZ MÁS DE VOS,<br>
        ESTUVE APRENDIENDO Y CRECIENDO PARA SER LO QUE REALMENTE TE MERECES.<br>
        TE AMO PARA SIEMPRE.
    </p>

    <script>
        // Variables iniciales
        const initialYears = 3;
        const initialMonths = 11;
        const initialDays = 27;
        const initialHours = 3;
        const initialMinutes = 18;

        // Convertir a milisegundos
        const initialTimeInMs = 
            (initialYears * 365 * 24 * 60 * 60 * 1000) + 
            (initialMonths * 30 * 24 * 60 * 60 * 1000) + 
            (initialDays * 24 * 60 * 60 * 1000) + 
            (initialHours * 60 * 60 * 1000) + 
            (initialMinutes * 60 * 1000);

        // Guardar la hora de inicio en localStorage si no existe
        if (!localStorage.getItem('startTime')) {
            const now = Date.now(); // Obtener tiempo actual en milisegundos
            localStorage.setItem('startTime', now - initialTimeInMs); // Establecer el tiempo de inicio
        }

        // Obtener el tiempo de inicio
        const startTime = parseInt(localStorage.getItem('startTime'));

        // Función para calcular y mostrar el tiempo transcurrido
        function updateCountdown() {
            const currentTime = Date.now(); // Obtener tiempo actual
            const elapsedMs = currentTime - startTime; // Calcular el tiempo transcurrido en milisegundos

            // Convertir el tiempo transcurrido a años, meses, días, horas, minutos y segundos
            const totalSeconds = Math.floor(elapsedMs / 1000);
            const years = Math.floor(totalSeconds / (365 * 24 * 60 * 60));
            const months = Math.floor((totalSeconds % (365 * 24 * 60 * 60)) / (30 * 24 * 60 * 60));
            const days = Math.floor((totalSeconds % (30 * 24 * 60 * 60)) / (24 * 60 * 60));
            const hours = Math.floor((totalSeconds % (24 * 60 * 60)) / (60 * 60));
            const minutes = Math.floor((totalSeconds % (60 * 60)) / 60);
            const seconds = totalSeconds % 60;

            // Mostrar el resultado
            document.getElementById('countdown').innerHTML =
                years + " años, " +
                months + " meses, " +
                days + " días, " +
                hours + " horas, " +
                minutes + " minutos, " +
                seconds + " segundos";

            // Verificar si se debe mostrar el mensaje especial
            if (years === 3 && months === 11 && days === 27 && hours === 23 && minutes === 59 && seconds === 59) {
                showCelebration();
            }
        }

        // Función para mostrar el mensaje de celebración
        function showCelebration() {
            document.body.style.backgroundColor = "#ffd700"; // Cambiar color de fondo
            document.getElementById('main-title').innerText = "FELICES 4 AÑOS, MUMI HERMOSA";
            document.getElementById('countdown').innerHTML = ""; // Limpiar el contador

            // Esperar 15 segundos y luego reiniciar el contador a 4 años
            setTimeout(() => {
                // Reiniciar a 4 años, 0 meses, 0 días, 0 horas, 0 minutos
                const currentTime = Date.now(); // Obtener tiempo actual en milisegundos
                localStorage.setItem('startTime', currentTime - (4 * 365 * 24 * 60 * 60 * 1000)); // Establecer tiempo de inicio a 4 años atrás
                document.body.style.backgroundColor = "#f0f0f0"; // Restaurar color de fondo
                document.getElementById('main-title').innerText = "GRACIAS POR PASAR CONMIGO...";
                updateCountdown(); // Actualizar el contador
            }, 15000);
        }

        // Actualizar el contador inicialmente
        updateCountdown();

        // Aumentar el contador cada segundo
        setInterval(updateCountdown, 1000);
    </script>
</body>
</html>
